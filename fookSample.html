<!DOCTYPE html>
<title>はじめてのVue</title>
<script src="https://unpkg.com/vue@2.5.17"></script>

<div id="app">
  <p>{{count}}</p>
</div>
<script>
  var vm = new Vue({
    el: "#app",
    data: function () {
      return {
        count: 0,
        timerId: null,
      };
    },
    //ライフサイクルフック
    created: function () {
      console.log("created");
      var that = this;
      //データを参照できる
      console.log(this.count);
      //DOM要素が紐づいていないので、undefined
      console.log(this.$el);
      //タイマー処理を開始する
      this.timerId = setInterval(function () {
        that.count += 1;
      }, 1000);
    },
    mounted: function () {
      console.log("mounted");
      //DOM要素が紐づいている
      console.log(this.$el);
    },
    beforeDestroy: function () {
      console.log("beforeDestroy");
      clearInterval(this.timerId);
    },
  });
  window.vm = vm;
</script>
